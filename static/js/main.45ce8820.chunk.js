(this.webpackJsonpreshape=this.webpackJsonpreshape||[]).push([[0],{139:function(e,t,a){e.exports=a(299)},144:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},197:function(e,t){},199:function(e,t){},233:function(e,t){},234:function(e,t){},299:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(57),o=a.n(c),i=(a(144),a(26)),l=a(17),s=a(27),m=a(134),u=a(6),d={isAuth:!1,firstname:"",lastname:""},f={theme:"theme_dark",textSize:"textsize_medium",themeColor:"themecolor1"},p={users:[]},E=Object(s.c)({authorization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_AUTH":return console.log("GET_AUTH reducer"),Object(u.a)({},e);case"ADD_AUTH":return console.log("ADD_AUTH reducer"),Object(u.a)({},e,{},t.payload);case"REMOVE_AUTH":return console.log("REMOVE_AUTH reducer"),Object(u.a)({},e,{isAuth:!1,firstname:"",lastname:""});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROFILE":return console.log("GET_PROFILE reducer"),Object(u.a)({},e);case"SET_PROFILE":return console.log("SET_PROFILE reducer"),Object(u.a)({},e,{},t.payload);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER":return console.log("GET_USER reducer"),Object(u.a)({},e);case"ADD_USER":return console.log("ADD_USER reducer"),Object(u.a)({},e,{},t.payload);case"FETCH_ALL_USERS":return console.log("FETCH_ALL_USERS reducer"),Object(u.a)({},e,{},t.payload);default:return e}}}),h=[m.a],v=Object(s.e)(E,{},Object(s.d)(s.a.apply(void 0,h))),g=(a(86),a(149),a(19)),b=a(136),N=a(305),O=a(306),y=(a(150),function(e){return r.a.createElement("div",{className:"main-page"},"class")}),_=function(){return function(e){e({type:"GET_AUTH"})}},j=function(e){return function(t){t({type:"ADD_AUTH",payload:e})}},w=function(){return function(e){e({type:"REMOVE_AUTH"})}},A=(a(151),a(152)),S=Object(l.b)((function(e){return{authorization:e.authorization}}),{getAuth:_,addAuth:j,removeAuth:w})(Object(i.b)((function(e){return Object(n.useEffect)((function(){if(console.log("*********",e.location.search),e.location.search){var t=A.parse(e.location.search);e.cookies.set("reshape_".concat(t.space),t.authKey),e.history.push("/".concat(t.space,"/home"))}}),[]),r.a.createElement(r.a.Fragment,null)}))),P=(a(40),a(1)),T=(a(164),a(165),a(166),function(e){return r.a.createElement("svg",{version:"1.0",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 57 56",enableBackground:"new 0 0 57 56",style:e.dimension},r.a.createElement("g",{id:"Chat-Fenster"},r.a.createElement("g",{id:"chat_FAQ_Accordion2-Copy-13",transform:"translate(-1364.000000, -1001.000000)"},r.a.createElement("g",{id:"Send-Message",transform:"translate(397.000000, 1008.000000)"},r.a.createElement("g",{id:"Send-Button",transform:"translate(990.000000, 10.000000)"},r.a.createElement("g",{id:"Send_1_"},r.a.createElement("path",{style:e.style,d:"M16,0.5c-0.1-0.1-0.3-0.1-0.4-0.1L-7,10.8c-0.1,0.1-0.2,0.2-0.2,0.3s0.1,0.3,0.2,0.3l6.4,3.1 c0.1,0.1,0.3,0,0.4,0L6,9.9l-4.9,4.9C1,14.9,1,15,1,15.1l0.5,6.2c0,0.1,0.1,0.3,0.2,0.3h0.1c0.1,0,0.2,0,0.3-0.1l3.4-3.9l4.2,2 c0.1,0,0.2,0,0.3,0s0.2-0.1,0.2-0.2l5.9-18.6C16.1,0.7,16.1,0.6,16,0.5z"})))))))}),C=function(e){return r.a.createElement("svg",{viewBox:"0 0 73 73",style:e.dimension},r.a.createElement("polygon",{fill:"#27AAE1",points:"38.5,-3.8 37.9,-3.8 37.9,-3.8 38.5,-3.8 "}),r.a.createElement("g",null,r.a.createElement("path",{fill:"#149ED9",d:"M27.6,23c2.6-1.8,5.8-2.9,9.3-2.9c3.4,0,6.6,1.1,9.3,2.9l6.3-7.5c-4.3-3.2-9.7-5.2-15.6-5.2 c-5.8,0-11.2,1.9-15.6,5.2L27.6,23z",style:e.accent}),r.a.createElement("rect",{x:"32",y:"37.4",width:"9.8",height:"25.6",style:e.style}),r.a.createElement("circle",{fill:"none",stroke:"#000000",strokeWidth:"9.75",strokeMiterlimit:"10",cx:"36.9",cy:"36.5",r:"30.9",style:Object(u.a)({},e.style,{fill:"none"})}),r.a.createElement("polygon",{fill:"#27AAE1",points:"37.2,-3.9 36.6,-3.9 36.6,-3.9 37.2,-3.9 \t"}),r.a.createElement("circle",{cx:"36.9",cy:"32.8",r:"7.8",style:e.style})))},R=function(e){var t=function(e){var t={},a="";switch(e){case"primary":a="var(--color-primary-1)";break;case"secondary":a="var(--color-secondary-1)";break;case"tertiary":a="var(--color-tertiary-1)";break;case"success":a="var(--color-success)";break;case"failure":a="var(--color-failure)";break;case"warning":a="var(--color-warning)";break;default:a=e||"var(--color-foreground-1)"}return t.fill=a,t.color=a,t.stroke=a,t},a=function(){var t={};return t.fontSize=e.size?e.size:"24px",e.svg&&(t.height=e.size?e.size:"24px",t.width="auto"),t};return r.a.createElement("div",{className:"oak-icon"},e.mat&&r.a.createElement("i",{className:"material-icons",style:Object(u.a)({},t(e.color),{},a())},e.mat),e.fa&&r.a.createElement("i",{className:"fontawesome-icons ".concat(e.fa),style:Object(u.a)({},t(e.color),{},a())},e.mat),e.svg&&"send"===e.svg&&r.a.createElement(T,{style:t(e.color),accent:e.accent&&t(e.accent),dimension:a()}),e.svg&&"ioak"===e.svg&&r.a.createElement(C,{style:t(e.color),accent:e.accent&&t(e.accent),dimension:a()}))},k=function(e){return r.a.createElement("button",{className:"oak-button ".concat(function(){var t=e.theme?e.theme:"";return t+=e.variant?" ".concat(e.variant):"",e.children||(t+=" icon"),t+=e.invert?" invert":"",t+=e.small?" small":"",t+=e.align?" align-".concat(e.align):""}()),onClick:e.action},r.a.createElement("div",{className:"button-label-container"},e.icon&&r.a.createElement(R,{mat:e.icon,size:"1.2em"}),e.fa&&r.a.createElement(R,{fa:e.fa,size:"1.2em"}),e.svg&&r.a.createElement(R,{svg:e.svg,size:"1.2em"}),e.children&&e.children))},x=(a(167),function(e){return r.a.createElement("div",{className:"oak-text-plain"},e.label&&r.a.createElement("label",{htmlFor:e.id},e.label),!e.multiline&&r.a.createElement("input",{disabled:e.disabled,autoComplete:"off",className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),type:e.type?e.type:"text",name:e.id,id:e.id,value:e.data[e.id],onChange:e.handleChange,onFocus:function(){e.handleFocus&&e.handleFocus()},placeholder:e.placeholder}),e.multiline&&r.a.createElement("textarea",{disabled:e.disabled,className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),id:e.id,name:e.id,value:e.data[e.id],onChange:e.handleChange}))}),U=a(49),F=a.n(U),I="https://reshape-service.herokuapp.com";function L(e,t,a){return F.a.get((a||I)+e,t)}function D(e,t,a,n){return F.a.post((n||I)+e,t,a)}var z={API_URL_TENANT:"/tenant",API_URL_TENANT_BANNER:"/tenant/banner",API_URL_TENANT_CREATE:"/tenant/create",API_TENANT_URL:"/tenant/sendURL",API_URL_PRESIGNUP:"/auth/keys",API_URL_RESET:"/auth/reset",API_URL_CODE:"/auth/sendResetCode",API_URL_USER_DETAILS:"/user/details",API_URL_STAGE:"/stage",API_URL_PREDICT:"/model/predict",API_URL_ARTICLE:"/article",API_URL_CATEGORY:"/category",API_URL_FAQ:"/faq",API_URL_SR:"/servicerequests",API_URL_USER:"/user",API_URL:"/auth/",API_SIGNIN:"/signin",API_SIGNUP:"/signup",API_KEYS:"/keys",API_JWT:"/signin/jwt",API_JSON_FLATTEN:"/api/flatten",API_JSON_TO_CSV:"/api/csv"},B=(a(184),function(e){var t=Object(n.useState)(""),a=Object(P.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)([]),l=Object(P.a)(i,2),s=(l[0],l[1]),m=function(e){u(e.target.files)},u=function(t){s(t),e.handleChange(t)};return r.a.createElement("div",{className:"oak-attach"},!e.onlyButton&&r.a.createElement("div",{className:"drop-container ".concat(c),onDragOver:function(e){e.preventDefault(),o("dropping")},onDrop:function(e){e.preventDefault(),o(""),u(e.dataTransfer.files),o("")},onDragLeave:function(e){e.preventDefault(),o("")}},r.a.createElement("div",null,r.a.createElement("i",{className:"material-icons"},"cloud_upload")),r.a.createElement("div",null,"Drop your files here"),r.a.createElement("div",null,"or"),r.a.createElement("div",{className:"file-input"},r.a.createElement("label",{className:"file-upload space-top-1 space-bottom-4"},r.a.createElement("input",{type:"file",onChange:m,multiple:!0,required:!0}),r.a.createElement("div",{className:"action"},r.a.createElement("i",{className:"material-icons"},"attach_file"),r.a.createElement("div",{className:"text"},"Browse"))))),e.onlyButton&&r.a.createElement("div",{className:"file-input button-only"},r.a.createElement("label",{className:"file-upload"},r.a.createElement("input",{type:"file",onChange:m,multiple:!0,required:!0}),r.a.createElement("div",{className:"action-browse"},r.a.createElement("i",{className:"material-icons"},"folder_open"),r.a.createElement("div",{className:"browse-link"},"Browse")))))}),J=(a(41),function(e){return r.a.createElement("div",{className:"json-string"},e.element?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"key-string"},'"'.concat(e.element,'"')),":"):"",r.a.createElement("div",{className:"value-string"},e.data))}),H=function e(t){var a=Object(n.useState)(!1),c=Object(P.a)(a,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){return i(t.expand)}),[t.expand]),r.a.createElement("div",{className:"json-array"},r.a.createElement("div",{className:"key-group"},t.element?"".concat(t.element,": ["):"[",r.a.createElement("i",{className:"material-icons",onClick:function(){return i(!o)}},o?"remove":"add")),o&&t.data.map((function(t){return r.a.createElement(r.a.Fragment,null,"string"===typeof t&&r.a.createElement(J,{element:"",data:t}),"object"===typeof t&&!Array.isArray(t)&&r.a.createElement(G,{element:"",data:t,expand:o}),Array.isArray(t)&&r.a.createElement(e,{element:"",data:t,expand:o}))})),"]")},W=function(e){return r.a.createElement("div",{className:"json-string"},e.element?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"key-string"},'"'.concat(e.element,'"')),":"):"",r.a.createElement("div",{className:"value-string"},e.data))},G=function e(t){var a=Object(n.useState)(!1),c=Object(P.a)(a,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){return i(t.expand)}),[t.expand]),r.a.createElement("div",{className:"json-object"},r.a.createElement("div",{className:"key-group"},t.element?"".concat(t.element,": {"):"{",r.a.createElement("i",{className:"material-icons",onClick:function(){return i(!o)}},o?"remove":"add")),o&&t.data&&Object.keys(t.data).map((function(a){return r.a.createElement(r.a.Fragment,null,"string"===typeof t.data[a]&&r.a.createElement(J,{element:a,data:t.data[a]}),"number"===typeof t.data[a]&&r.a.createElement(W,{element:a,data:t.data[a]}),"object"===typeof t.data[a]&&!Array.isArray(t.data[a])&&r.a.createElement(e,{element:a,data:t.data[a],expand:o}),Array.isArray(t.data[a])&&r.a.createElement(H,{element:a,data:t.data[a],expand:o}))})),"}")},K=function(e){var t=Object(n.useState)(!0),a=Object(P.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){o(e.expand)}),[e.expand]),r.a.createElement("div",{className:"json-tree"},"string"===typeof e.data&&r.a.createElement(J,{element:e.element,data:e.data}),"number"===typeof e.data&&r.a.createElement(W,{element:e.element,data:e.data}),"object"===typeof e.data&&!Array.isArray(e.data)&&r.a.createElement(G,{element:e.element,data:e.data,expand:c}),Array.isArray(e.data)&&r.a.createElement(H,{element:e.element,data:e.data,expand:c}))},Y=function(e){var t=Object(n.useState)(!0),a=Object(P.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){console.log(JSON.parse(e.data))})),r.a.createElement("div",{className:"inspect-view"},r.a.createElement("div",{className:"typography-4 inspect-view-action",onClick:function(){return o(!c)}},c?"Collapse All":"Expand all"),r.a.createElement("div",null,r.a.createElement(K,{element:"",data:JSON.parse(e.data),expand:c})))},M=a(137),V=(a(307),new M.a);function q(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;V.next({name:e,signal:t,data:a})}function $(){return V.asObservable()}var Q=function(e){var t=Object(n.useState)(!1),a=Object(P.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)("none"),l=Object(P.a)(i,2),s=l[0],m=l[1],u=Object(n.useState)(""),d=Object(P.a)(u,2),f=d[0],p=d[1];Object(n.useEffect)((function(){$().subscribe((function(e){"operation-flatten-progress"===e.name&&(p(e.data.text),e.signal?m(e.data.status):m("none"))}))}),[]);return r.a.createElement("div",{className:"flatten-view"},r.a.createElement("div",{className:"flatten-view-header ".concat(s)},r.a.createElement("div",{className:"operation-message"},"inprogress"===s&&r.a.createElement(r.a.Fragment,null,"Your Json content is being flattened. Please wait few seconds"),"success"===s&&r.a.createElement(r.a.Fragment,null,"Your Json content has successfully flattened and your processed output is ready"),"failure"===s&&r.a.createElement(r.a.Fragment,null,"".concat(f||"Your Json input cannot be processed"))),"success"===s&&r.a.createElement("div",{className:"micro-action-header"},r.a.createElement(k,{theme:"primary",variant:"drama",action:function(){return o(!c)}},c?"Hide preview":"Show preview"),r.a.createElement(k,{theme:"primary",variant:"regular",action:function(t){var a=document.createElement("a");a.href="data:text/plain;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(e.data))),a.download="output.json",a.click()}},"Download"))),r.a.createElement("div",{className:"flatten-view-content"},c&&r.a.createElement(K,{element:"",data:e.data,expand:!0})))},X=a(31),Z=(a(185),function(e){var t=Object(n.useState)(""),a=Object(P.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)({}),l=Object(P.a)(i,2),s=l[0],m=l[1];Object(n.useEffect)((function(){c||o(e.meta&&e.meta.length>0?e.meta[0].slotName:""),d()}),[e.meta,e.children]);var d=function(){var t={};r.a.Children.toArray(e.children).forEach((function(e){t=Object(u.a)({},t,Object(X.a)({},e.props.slot,e))})),m(t)},f=function(e){o(e)};return r.a.createElement("div",{className:"oak-tab"},r.a.createElement("div",{className:"header"},e.meta.map((function(e){return r.a.createElement("div",{key:e.slotName,className:"tab typography-6 ".concat(c===e.slotName?"active":""),onClick:function(){return f(e.slotName)}},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"material-icons typography-8 ".concat(c===e.slotName?"active":"")},e.icon)),r.a.createElement("div",{className:"label"},e.label))}))),e.meta.map((function(e){return r.a.createElement("div",{key:e.slotName,className:"tab typography-6 ".concat(c===e.slotName?"active":""),onClick:function(){return f(e.slotName)}})})),e.meta.map((function(e){return r.a.createElement("div",{key:e.slotName,className:"content ".concat(e.slotName===c?"active":"inactive")},s[e.slotName])})))});var ee=function(){var e=Object(n.useState)(""),t=Object(P.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)("none"),i=Object(P.a)(o,2),l=i[0],s=i[1];return Object(n.useEffect)((function(){$().subscribe((function(e){"operation-notification"===e.name&&(e.signal?(s(e.data.status),c(e.data.text)):(s("none"),c("")))}))}),[]),r.a.createElement("div",{className:"operation-notification ".concat(l)},r.a.createElement("div",{className:"operation-notification-message"},"inprogress"===l&&r.a.createElement(r.a.Fragment,null,"Your Json content is being flattened. Please wait few seconds"),"success"===l&&r.a.createElement(r.a.Fragment,null,"Your Json content has successfully flattened and your processed output is ready"),"failure"===l&&r.a.createElement(r.a.Fragment,null,"".concat(a||"Your Json input cannot be processed"))))},te=function(e){var t=Object(n.useState)(!1),a=Object(P.a)(t,2),c=(a[0],a[1],Object(n.useState)("none")),o=Object(P.a)(c,2),i=o[0],l=o[1],s=Object(n.useState)(""),m=Object(P.a)(s,2),u=m[0],d=m[1];Object(n.useEffect)((function(){$().subscribe((function(e){"operation-csv-progress"===e.name&&(d(e.data.text),e.signal?l(e.data.status):l("none"))}))}),[]);return r.a.createElement("div",{className:"csv-view"},r.a.createElement("div",{className:"csv-view-header ".concat(i)},r.a.createElement("div",{className:"operation-message"},"inprogress"===i&&r.a.createElement(r.a.Fragment,null,"Your Json content is being converted to CSV. Please wait few seconds"),"success"===i&&r.a.createElement(r.a.Fragment,null,"Your Json content has successfully been converted to CSV and your output is ready for download"),"failure"===i&&r.a.createElement(r.a.Fragment,null,"".concat(u||"Your Json input cannot be processed"))),"success"===i&&r.a.createElement("div",{className:"micro-action-header"},r.a.createElement(k,{theme:"primary",variant:"regular",action:function(t){var a=document.createElement("a");a.href="data:text/plain;charset=utf-8,".concat(encodeURIComponent(e.data)),a.download="output.csv",a.click()}},"Download"))))},ae=function(){var e=Object(n.useState)({text:"",file:null}),t=Object(P.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),i=Object(P.a)(o,2),l=i[0],s=i[1],m=Object(n.useState)(""),u=Object(P.a)(m,2),d=u[0],f=u[1],p=function(e){if(f(""),s(""),q("operation-notification",!1),a.file)console.log("validation");else if(!function(e){try{JSON.parse(e)}catch(t){return!1}return!0}(a.text))return void q("operation-notification",!0,{status:"failure",text:"Not a valid Json content"});switch(s(e),e){case"flatten":case"flattenTraditional":q("operation-flatten-progress",!0,{status:"inprogress"}),function(e){var t="".concat(z.API_JSON_FLATTEN);"flattenTraditional"===e&&(t="".concat(z.API_JSON_FLATTEN,"/traditional"));var n="";if(a.file){var r,c=new FormData;c.append("attachment",a.file,null===(r=a.file)||void 0===r?void 0:r.name),n=c,t+="/file"}else n={data:JSON.parse(a.text)};try{D(t,n,null).then((function(e){200===e.status?(f(e.data),q("operation-flatten-progress",!0,{status:"success"})):q("operation-flatten-progress",!0,{status:"failure"})})).catch((function(e){return q("operation-flatten-progress",!0,{status:"failure"})}))}catch(o){q("operation-flatten-progress",!0,{status:"failure"})}}(e);break;case"toCsv":q("operation-csv-progress",!0,{status:"inprogress"}),function(){var e="".concat(z.API_JSON_TO_CSV),t="";if(a.file){var n,r=new FormData;r.append("attachment",a.file,null===(n=a.file)||void 0===n?void 0:n.name),t=r,e+="/file"}else t={data:JSON.parse(a.text)};try{D(e,t,null).then((function(e){200===e.status?(f(e.data),console.log(e),q("operation-csv-progress",!0,{status:"success"})):q("operation-csv-progress",!0,{status:"failure"})})).catch((function(e){return q("operation-csv-progress",!0,{status:"failure"})}))}catch(c){q("operation-csv-progress",!0,{status:"failure"})}}();break;case"format":console.log("format");break;case"inspect":a.file?console.log("not implemented"):f(a.text)}};return r.a.createElement("div",{className:"json-flatten"},r.a.createElement("div",{className:"json-flatten-container app-content"},r.a.createElement("div",null,r.a.createElement("div",{className:"typography-10"},"Flatten JSON"),r.a.createElement("div",{className:"typography-5"},"Flatten an arbitarily nested Json structure into a flat Json structure using intelligent relational break down")),r.a.createElement("div",{className:"inputData-input"},r.a.createElement(Z,{meta:[{slotName:"browse",label:"Upload file",icon:"folder_open"},{slotName:"paste",label:"Paste text",icon:"file_copy"}]},r.a.createElement("div",{className:"browse",slot:"browse"},r.a.createElement(B,{handleChange:function(e){c({text:e[0].name,file:e[0]})}})),r.a.createElement("div",{slot:"paste"},r.a.createElement(x,{data:a,id:"text",handleChange:function(e){c({text:e.target.value,file:null})},multiline:!0})))),r.a.createElement("div",{className:"action-footer"},r.a.createElement(k,{theme:"primary",variant:"format"===l?"regular":"drama",action:function(){return p("format")}},"Format"),r.a.createElement(k,{theme:"primary",variant:"inspect"===l?"regular":"drama",action:function(){return p("inspect")}},"Inspect"),r.a.createElement(k,{theme:"primary",variant:"toCsv"===l?"regular":"drama",action:function(){return p("toCsv")}},"Convert to CSV"),r.a.createElement(k,{theme:"primary",variant:"flatten"===l?"regular":"drama",action:function(){return p("flatten")}},"Flatten Relational"),r.a.createElement(k,{theme:"primary",variant:"flattenTraditional"===l?"regular":"drama",action:function(){return p("flattenTraditional")}},"Flatten Traditional")),r.a.createElement(ee,null),"inspect"===l&&r.a.createElement("div",{className:"inspect-view-operation"},r.a.createElement(Y,{data:d})),["flatten","flattenTraditional"].includes(l)&&r.a.createElement("div",{className:"flatten-view-operation"},r.a.createElement(Q,{data:d})),["toCsv"].includes(l)&&r.a.createElement("div",{className:"csv-view-operation"},r.a.createElement(te,{data:d}))))},ne=(a(186),function(){return r.a.createElement("div",{className:"how-does-it-work"},r.a.createElement("div",{className:"how-does-it-work-container app-content"},r.a.createElement("div",{className:"typography-10"},"How does it work?"),r.a.createElement("div",{className:"typography-8"},"How does flattening a Json relationally work?"),r.a.createElement("div",{className:"typography-5"},"Converts a Json document into multiple documents based on the internal structure. If the JSON has arrays inside, then it will be transformed into multiple rows retaining thre relation with it's neighbours")))}),re=function(e){return r.a.createElement("div",{className:"main-page"},r.a.createElement("div",null,r.a.createElement(ae,null)),r.a.createElement("div",null,r.a.createElement(ne,null)))},ce=function(){return function(e){e({type:"GET_PROFILE"})}},oe=function(e){return function(t){t({type:"SET_PROFILE",payload:e})}},ie=(a(187),function(){var e=Object(n.useState)(!1),t=Object(P.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(void 0),i=Object(P.a)(o,2),l=i[0],s=i[1];return Object(n.useEffect)((function(){var e=$().subscribe((function(e){"notification"===e.name&&(e.signal?(s(e.data),c(!1),e.data&&e.data.duration&&setTimeout((function(){q("notification",!1)}),e.data.duration)):s(void 0)),"spinner"===e.name&&c(e.signal)}));return function(){return e.unsubscribe()}}),[]),r.a.createElement(r.a.Fragment,null,l&&r.a.createElement("div",{className:"notification ".concat(null===l||void 0===l?void 0:l.type)},r.a.createElement("div",{className:"message"},null===l||void 0===l?void 0:l.message)),a&&r.a.createElement("div",{"data-test":"spinner",className:"lds-dual-ring"}))}),le=(a(50),a(59)),se=a.n(le),me=a(60),ue=a.n(me),de=a(32),fe=function(e){return r.a.createElement("div",{className:"links"},e.authorization.isAuth&&r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{to:"/".concat(e.profile.tenant,"/home"),className:"navitem",activeClassName:"active"},"Home"),r.a.createElement(de.a,{to:"/".concat(e.profile.tenant,"/article"),className:"navitem",activeClassName:"active"},"Articles"),r.a.createElement(de.a,{to:"/".concat(e.profile.tenant,"/request"),className:"navitem",activeClassName:"active"},"Requests"),r.a.createElement(de.a,{to:"/".concat(e.profile.tenant,"/useradministration"),className:"navitem",activeClassName:"active"},"Manage User"),r.a.createElement(de.a,{to:"/".concat(e.profile.tenant,"/settings"),className:"navitem",activeClassName:"active"},"Settings")))},pe=(a(189),new(a(304).a)("")),Ee=new M.a,he=function(e){var t=Object(n.useState)(""),a=Object(P.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){var e=pe.subscribe((function(e){o(e)}));return function(){return e.unsubscribe()}}),[]);return r.a.createElement("form",{method:"GET",onSubmit:function(e){e.preventDefault(),Ee.next(c)},noValidate:!0},r.a.createElement("div",{className:"search-bar".concat(e.alt?" alt":"")},r.a.createElement("input",{name:"searchText",spellCheck:!1,autoComplete:"off",autoFocus:!0,placeholder:"Reshape, reshape, on the wall, who's the fairest of them all?",required:!0,value:c,onChange:function(e){pe.next(e.target.value)}}),r.a.createElement("button",{className:"icon"},r.a.createElement("i",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))))))},ve=function(e){var t=Object(n.useState)(!1),a=Object(P.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){e.getProfile()}),[]),Object(n.useEffect)((function(){$().subscribe((function(e){"show-navbar-element"===e.name&&o(e.signal)}))}),[]);return r.a.createElement("div",{className:e.transparent?"navbar desktop transparent":"navbar desktop"},r.a.createElement("div",{className:"left"},!e.transparent&&"theme_light"===e.profile.theme&&r.a.createElement("img",{className:"logo",src:ue.a,alt:"Reshape logo"}),(e.transparent||"theme_dark"===e.profile.theme)&&r.a.createElement("img",{className:"logo",src:se.a,alt:"Reshape logo"}),r.a.createElement(fe,{authorization:e.authorization,profile:e.profile}),c&&r.a.createElement(he,{alt:!0})),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"dark-mode"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.toggleDarkMode()}},"brightness_6"))))},ge=a(83),be=a.n(ge),Ne=function(e){var t=Object(n.useState)({showSearchBar:!1,menu:!1}),a=Object(P.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){e.getProfile()}),[]),Object(n.useEffect)((function(){$().subscribe((function(e){"show-navbar-element"===e.name&&o(Object(u.a)({},c,{showSearchBar:e.signal}))}))}),[]);var i=function(){o(Object(u.a)({},c,{menu:!c.menu}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.transparent?"navbar mobile transparent":"navbar mobile"},r.a.createElement("div",{className:"left"},!c.showSearchBar&&!e.transparent&&"theme_light"===e.profile.theme&&r.a.createElement("img",{className:"logo",src:ue.a,alt:"Reshape logo"}),!c.showSearchBar&&(e.transparent||"theme_dark"===e.profile.theme)&&r.a.createElement("img",{className:"logo",src:se.a,alt:"Reshape logo"}),c.showSearchBar&&!e.transparent&&"theme_light"===e.profile.theme&&r.a.createElement("img",{className:"logo",src:be.a,alt:"Reshape logo"}),c.showSearchBar&&(e.transparent||"theme_dark"===e.profile.theme)&&r.a.createElement("img",{className:"logo",src:be.a,alt:"Reshape logo"}),c.showSearchBar&&r.a.createElement(he,{alt:!0})),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:c.menu?"menu active":"menu",onClick:i},r.a.createElement("div",null)))),r.a.createElement("div",{className:c.menu?"slider show":"slider hide",onClick:i},r.a.createElement("div",{className:c.menu?"container":"container hidetext",onClick:i},r.a.createElement("div",{className:"action"}),r.a.createElement(fe,{authorization:e.authorization,profile:e.profile}),r.a.createElement("div",{className:"dark-mode"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.toggleDarkMode()}},"brightness_6")))))},Oe=Object(l.b)((function(e){return{profile:e.profile}}),{getProfile:ce,setProfile:oe})(Object(i.b)(Object(g.withRouter)((function(e){var t=Object(n.useState)({visible:!1,mobilemenu:"hide",chooseTheme:!1,showSettings:!1,transparentNavBar:!1,firstLoad:!0}),a=Object(P.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),l=Object(P.a)(i,2),s=l[0],m=l[1];Object(n.useEffect)((function(){$().subscribe((function(e){"spaceChange"===e.name&&m(e.data)}))}),[]),Object(n.useEffect)((function(){e.getProfile()}),[]),Object(n.useEffect)((function(){$().subscribe((function(e){"navbar-transparency"===e.name&&o(Object(u.a)({},c,{transparentNavBar:e.signal})),"loggedin"===e.name&&o(Object(u.a)({},c,{firstLoad:!1}))}))}),[]),Object(n.useEffect)((function(){c.firstLoad&&e.authorization&&e.authorization.isAuth&&o(Object(u.a)({},c,{firstLoad:!1}))}),[e.authorization.isAuth]);var d=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"You have been logged out";e.removeAuth(),e.cookies.remove("reshape_".concat(s)),q("notification",!0,{type:a,message:n,duration:3e3})},f=function(){"theme_dark"===e.profile.theme?e.setProfile(Object(u.a)({},e.profile,{theme:"theme_light"})):e.setProfile(Object(u.a)({},e.profile,{theme:"theme_dark"}))},p=function(e){window.location.href="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://reshape-service.herokuapp.com"}).REACT_APP_ONEAUTH_URL,"/#/space/").concat(s,"/login?type=").concat(e,"&appId=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://reshape-service.herokuapp.com"}).REACT_APP_ONEAUTH_APP_ID)},E=function(){o(Object(u.a)({},c,{showSettings:!c.showSettings}))};return r.a.createElement("div",{className:"nav"},r.a.createElement(ve,Object.assign({},e,{logout:d,login:p,toggleSettings:E,transparent:c.transparentNavBar,toggleDarkMode:f})),r.a.createElement(Ne,Object.assign({},e,{logout:d,login:p,toggleSettings:E,transparent:c.transparentNavBar,toggleDarkMode:f})))})))),ye=(a(190),a(191),function(e){return r.a.createElement("div",{className:"oak-text"},!e.multiline&&r.a.createElement("input",{disabled:e.disabled,autoComplete:"off",className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),type:e.type?e.type:"text",name:e.id,id:e.id,value:e.data[e.id],onChange:e.handleChange,onFocus:function(){e.handleFocus&&e.handleFocus()}}),e.multiline&&r.a.createElement("textarea",{disabled:e.disabled,className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),id:e.id,name:e.id,value:e.data[e.id],onChange:e.handleChange}),r.a.createElement("label",{htmlFor:e.id,className:e.data[e.id]?"active":""},e.label))});var _e=a(84),je=a.n(_e),we=a(85),Ae=a.n(we);function Se(e,t,a){var n={cipher:"aes",iter:"12000",ks:256,salt:Ae.a.enc.Base64.stringify(Ae.a.enc.Utf8.parse(a))};return je.a.encrypt(e,t,n)}function Pe(e){return null===e||null!==e.match(/^ *$/)}var Te=function(e){var t=Object(n.useState)({name:"",email:"",password:"",repeatPassword:"",jwtPassword:"",pageNo:1,created:!1}),a=Object(P.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(null),l=Object(P.a)(i,2),s=l[0],m=l[1],d=Object(n.useState)({name:!1,email:!1,password:!1,repeatPassword:!1,jwtPassword:!1}),f=Object(P.a)(d,2),p=f[0],E=f[1];Object(n.useEffect)((function(){e.getProfile()}),[]);var h=function(e){o(Object(u.a)({},c,Object(X.a)({},e.currentTarget.name,e.currentTarget.value)))},v=function(e){E(Object(u.a)({},p,Object(X.a)({},e,!0)))},g=function(e){(function(e){var t=new FormData;return t.append("tenantName",e.tenantName),t.append("email",e.email),t.append("jwtPassword",e.jwtPassword),t.append("problem",Se(e.password,e.solution,e.salt)),t.append("solution",e.solution),e.banner&&t.append("banner",e.banner,"banner.jpg"),D(z.API_URL_TENANT_CREATE,t,{"Content-Type":"multipart/form-data"}).then((function(e){return Promise.resolve(e)}))})({tenantName:c.name,email:c.email,password:c.password,jwtPassword:c.jwtPassword,solution:e.solution,salt:e.salt,banner:s}).then((function(e){200===e.status?(q("notification",!0,{type:"success",message:"Tenant has been created. You can proceed now",duration:3e3}),o(Object(u.a)({},c,{pageNo:c.pageNo+1,created:!0}))):q("notification",!0,{message:"We are facing some problem, please try after sometime",duration:3e3})})).catch((function(e){q("notification",!0,{type:"failure",message:"Unknown error. Please try again or at a later time",duration:3e3})}))};return r.a.createElement("div",{className:"tenant boxed"},!c.created&&r.a.createElement("div",{className:"typography-3 space-bottom-4"},"Tenant creation"),c.created&&r.a.createElement("div",{className:"typography-3 space-bottom-4"},"Tenant [",c.name,"] available now"),1===c.pageNo&&r.a.createElement("div",{className:"form"},r.a.createElement(ye,{id:"name",data:c,label:"Tenant Name",handleChange:function(e){return h(e)},errorFields:p}),r.a.createElement(ye,{id:"email",data:c,label:"Administrator Email",handleChange:function(e){return h(e)},errorFields:p}),r.a.createElement(ye,{id:"password",type:"password",data:c,label:"Administrator Password",handleChange:function(e){return h(e)},errorFields:p}),r.a.createElement(ye,{id:"repeatPassword",type:"password",data:c,label:"Repeat Password",handleChange:function(e){return h(e)},errorFields:p}),r.a.createElement(ye,{id:"jwtPassword",type:"password",data:c,label:"JWT Password",handleChange:function(e){return h(e)},errorFields:p}),r.a.createElement("label",{className:"file-upload space-top-1 space-bottom-4"},r.a.createElement("input",{type:"file",accept:"image/png, image/jpeg",onChange:function(e){m(e.target.files[0])},required:!0}),r.a.createElement("i",{className:"material-icons"},"add_photo_alternate"),!s&&"Choose Banner/Cover Image",s&&s.name),r.a.createElement("div",{className:"action"},r.a.createElement(k,{theme:"primary",variant:"appear",action:function(e){e.preventDefault(),q("spinner"),E({name:!1,email:!1,password:!1,repeatPassword:!1,jwtPassword:!1}),(Pe(c.name)?(v("name"),q("notification",!0,{type:"failure",message:"Tenant name cannot be empty",duration:3e3}),0):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(c.email)?Pe(c.password)?(v("password"),q("notification",!0,{type:"failure",message:"Password cannot be empty",duration:3e3}),0):c.password===c.repeatPassword||(v("repeatPassword"),q("notification",!0,{type:"failure",message:"Password and repeat password should be same",duration:3e3}),0):(v("email"),q("notification",!0,{type:"failure",message:"Email ID is invalid",duration:3e3}),0))&&function(e){return L(z.API_URL+e.name+z.API_KEYS,null).then((function(e){return Promise.resolve(e)}))}({name:c.name}).then((function(e){200===e.status&&g(e.data)}))}},"Create Tenant"))),c.created&&r.a.createElement(k,{theme:"primary",variant:"disappear",action:function(){e.history.push("/".concat(c.name,"/home"))}},"Take me to my tenant"))},Ce=function(e){var t=Object(l.d)((function(e){return e.authorization})),a=Object(l.d)((function(e){return e.profile})),n=Object(l.c)(),c=function(e){switch(q("spaceChange",!0,""),e){case"readAuthentication":return i();case"authenticate":return o();case"isAdmin":return m();default:return!0}},o=function(){return s("space")},i=function(){return s("space",!1)},s=function(a){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(q("spaceChange",!0,e.match.params.tenant),t.isAuth)return!0;var c="reshape_".concat(e.match.params.tenant),o=e.cookies.get(c),i="/auth/".concat(e.match.params.tenant);if(o)L("".concat(i,"/session/").concat(o),null).then((function(e){200===e.status&&n(j({isAuth:!0,token:e.data.token,secret:"",firstName:e.data.firstName,lastName:e.data.lastName,email:e.data.email}))})).catch((function(t){e.cookies.remove(c),r&&404===t.response.status?(q("notification",!0,{type:"failure",message:"Invalid session token",duration:3e3}),u(e.match.params.tenant)):r&&401===t.response.status&&(q("notification",!0,{type:"failure",message:"Session expired",duration:3e3}),u(e.match.params.tenant))}));else{if(!r)return!0;u(e.match.params.tenant)}},m=function(){return d(),!1},u=function(e){window.location.href="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://reshape-service.herokuapp.com"}).REACT_APP_ONEAUTH_URL,"/#/space/").concat(e,"/login?type=signin&appId=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://reshape-service.herokuapp.com"}).REACT_APP_ONEAUTH_APP_ID)},d=function(){e.history.push("/".concat(a.tenant,"/unauthorized"))};return r.a.createElement(r.a.Fragment,null,function(){var t;return console.log(e.middleware),null===(t=e.middleware)||void 0===t||t.forEach((function(e){if(!c(e))return!1})),!0}()&&r.a.createElement(e.component,Object.assign({},e,{profile:a,space:e.match.params.tenant})))},Re=function(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Unauthorized")},ke={themecolor1:xe("#69A7BF"),themecolor2:xe("#99587B"),themecolor3:xe("#A66C26"),themecolor4:xe("#37AE82")};function xe(e){return Object(N.a)({palette:{primary:{main:e},secondary:{main:e}}})}var Ue=Object(l.b)((function(e){return{authorization:e.authorization,user:e.user,profile:e.profile}}),{getAuth:_,addAuth:j,removeAuth:w,getProfile:ce,setProfile:oe,getUser:function(){return function(e){e({type:"GET_USER"})}},addUser:function(e){return function(t){t({type:"ADD_USER",payload:e})}}})(Object(i.b)((function(e){return Object(n.useEffect)((function(){e.getProfile(),e.getAuth()}),[]),r.a.createElement("div",{className:"App ".concat(e.profile.theme," ").concat(e.profile.textSize," ").concat(e.profile.themeColor)},r.a.createElement(b.HashRouter,null,r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"body-content"},r.a.createElement(ie,null),r.a.createElement(O.a,{theme:ke.themecolor1},r.a.createElement(Oe,e),r.a.createElement(g.Route,{path:"/login",render:function(t){return r.a.createElement(Ce,Object.assign({},t,e,{component:S}))}}),r.a.createElement(g.Route,{path:"/:tenant/unauthorized",render:function(t){return r.a.createElement(Ce,Object.assign({},t,e,{component:Re,middleware:["isAuthenticated"]}))}}),r.a.createElement(g.Route,{path:"/",exact:!0,render:function(t){return r.a.createElement(Ce,Object.assign({},t,e,{component:re}))}}),r.a.createElement(g.Route,{path:"/home",exact:!0,render:function(t){return r.a.createElement(Ce,Object.assign({},t,e,{component:re}))}}),r.a.createElement(g.Route,{path:"/tenant",exact:!0,render:function(t){return r.a.createElement(Ce,Object.assign({},t,e,{component:Te}))}}),r.a.createElement(g.Route,{path:"/:tenant/home",render:function(t){return r.a.createElement(Ce,Object.assign({},t,e,{component:y,middleware:["readAuthentication"]}))}}),r.a.createElement(g.Route,{path:"/:tenant",exact:!0,render:function(t){return r.a.createElement(Ce,Object.assign({},t,e,{component:y,middleware:["readAuthentication"]}))}}))))))}))),Fe=function(e){return r.a.createElement(l.a,{store:v},r.a.createElement(Ue,e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,null,r.a.createElement(Fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},40:function(e,t,a){},41:function(e,t,a){},50:function(e,t,a){},59:function(e,t,a){e.exports=a.p+"static/media/reshape_white.d9be0934.svg"},60:function(e,t,a){e.exports=a.p+"static/media/reshape_black.9102694d.svg"},83:function(e,t,a){e.exports=a.p+"static/media/reshape_white_small.7aed2e38.svg"},86:function(e,t,a){}},[[139,1,2]]]);
//# sourceMappingURL=main.45ce8820.chunk.js.map